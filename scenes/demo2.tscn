[gd_scene load_steps=9 format=4 uid="uid://bhmpahfitji78"]

[ext_resource type="TileSet" uid="uid://07fq3rspk8ia" path="res://scenes/tileset.tres" id="1_nbj86"]
[ext_resource type="Script" uid="uid://mwgpxjf6tdx4" path="res://scenes/game_logic/character.gd" id="2_nbj86"]
[ext_resource type="SpriteFrames" uid="uid://b3r84ksew5djp" path="res://scenes/game_elements/characters/enemies/throwing_enemy/components/ink_drinker_frames_purple.tres" id="3_erwmy"]
[ext_resource type="SpriteFrames" uid="uid://chqrsy2uornaf" path="res://scenes/game_elements/characters/enemies/guard/components/storyvoretorch_frames_red.tres" id="3_nbj86"]
[ext_resource type="Script" uid="uid://cf66tvbhbaxd0" path="res://scenes/game_logic/can_follow_target.gd" id="4_5w10e"]
[ext_resource type="Script" uid="uid://c5tdskdj4osp6" path="res://scenes/game_logic/can_walk_as_player.gd" id="4_erwmy"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_erwmy"]
radius = 13.0
height = 64.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_7q101"]

[node name="Node2D" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0
zoom = Vector2(2, 2)

[node name="ScreenOverlay" type="CanvasLayer" parent="."]

[node name="TileMapLayers" type="Node2D" parent="."]

[node name="TileMapLayer2" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAIAAYAAQABAAEAAAAJAAYAAQABAAEAAAAKAAYAAQABAAEAAAAKAAcAAQABAAEAAAAJAAcAAQABAAEAAAAIAAcAAQABAAEAAAAHAAYAAQABAAEAAAAGAAYAAQABAAEAAAAGAAcAAQABAAEAAAAHAAcAAQABAAEAAAALAAcAAQABAAEAAAALAAgAAQABAAIAAAAKAAgAAQABAAIAAAAJAAgAAQABAAIAAAAIAAgAAQABAAIAAAAHAAgAAQABAAIAAAAGAAgAAQABAAIAAAAMAAgAAQABAAIAAAANAAgAAQABAAIAAAAOAAgAAQABAAIAAAAOAAcAAQABAAEAAAANAAcAAQABAAEAAAAMAAcAAQABAAEAAAALAAYAAQABAAEAAAAMAAYAAQABAAEAAAANAAYAAQABAAEAAAAOAAYAAQABAAEAAAAPAAYAAQACAAEAAAAPAAcAAQACAAEAAAAPAAgAAQACAAIAAAAFAAgAAQABAAIAAAAEAAgAAQABAAIAAAAEAAYAAQABAAEAAAADAAYAAQABAAEAAAAFAAYAAQABAAEAAAACAAYAAQABAAEAAAABAAYAAQABAAEAAAAAAAYAAQABAAEAAAAAAAcAAQABAAEAAAD//wcAAQAAAAEAAAD//wYAAQAAAAEAAAD//wgAAQAAAAIAAAAAAAgAAQABAAIAAAABAAgAAQABAAIAAAACAAgAAQABAAIAAAADAAgAAQABAAIAAAACAAcAAQABAAEAAAABAAcAAQABAAEAAAADAAcAAQABAAEAAAAEAAcAAQABAAEAAAAFAAcAAQABAAEAAAAHAAUAAQABAAEAAAAHAAQAAQABAAEAAAAHAAMAAQABAAEAAAAHAAIAAQABAAEAAAAHAAEAAQABAAEAAAD//wMAAQAAAAEAAAD//wQAAQAAAAEAAAD//wUAAQAAAAEAAAAAAAUAAQABAAEAAAABAAUAAQABAAEAAAACAAUAAQABAAEAAAADAAUAAQABAAEAAAAEAAUAAQABAAEAAAAFAAUAAQABAAEAAAAGAAUAAQABAAEAAAAGAAQAAQABAAEAAAAFAAQAAQABAAEAAAAEAAQAAQABAAEAAAACAAQAAQABAAEAAAADAAQAAQABAAEAAAABAAQAAQABAAEAAAAAAAQAAQABAAEAAAAAAAMAAQABAAEAAAABAAMAAQABAAEAAAACAAMAAQABAAEAAAADAAMAAQABAAEAAAAEAAMAAQABAAEAAAAFAAMAAQABAAEAAAAGAAMAAQABAAEAAAALAAEAAQABAAEAAAALAAIAAQABAAEAAAALAAMAAQABAAEAAAALAAQAAQABAAEAAAALAAUAAQABAAEAAAAMAAUAAQABAAEAAAANAAUAAQABAAEAAAAOAAUAAQABAAEAAAAPAAUAAQACAAEAAAAPAAQAAQACAAEAAAAPAAMAAQACAAEAAAAPAAIAAQACAAEAAAAPAAEAAQACAAEAAAAOAAEAAQABAAEAAAAOAAIAAQABAAEAAAAOAAMAAQABAAEAAAANAAMAAQABAAEAAAANAAQAAQABAAEAAAAMAAQAAQABAAEAAAAMAAMAAQABAAEAAAAMAAIAAQABAAEAAAANAAIAAQABAAEAAAANAAEAAQABAAEAAAAMAAEAAQABAAEAAAAOAAQAAQABAAEAAAAIAAMAAQABAAEAAAAIAAQAAQABAAEAAAAIAAUAAQABAAEAAAAJAAUAAQABAAEAAAAKAAUAAQABAAEAAAAKAAQAAQABAAEAAAAJAAQAAQABAAEAAAAJAAMAAQABAAEAAAAKAAMAAQABAAEAAAAKAAIAAQABAAEAAAAJAAIAAQABAAEAAAAIAAIAAQABAAEAAAAIAAEAAQABAAEAAAAJAAEAAQABAAEAAAAKAAEAAQABAAEAAAD//wEAAQAAAAEAAAAAAAEAAQABAAEAAAABAAEAAQABAAEAAAACAAEAAQABAAEAAAADAAEAAQABAAEAAAAEAAEAAQABAAEAAAAFAAEAAQABAAEAAAAGAAEAAQABAAEAAAAGAAIAAQABAAEAAAAFAAIAAQABAAEAAAAEAAIAAQABAAEAAAADAAIAAQABAAEAAAACAAIAAQABAAEAAAABAAIAAQABAAEAAAAAAAIAAQABAAEAAAD//wIAAQAAAAEAAAD/////AQAAAAAAAAD//wAAAQAAAAEAAAAAAAAAAQABAAEAAAABAAAAAQABAAEAAAACAAAAAQABAAEAAAADAAAAAQABAAEAAAAEAAAAAQABAAEAAAAFAAAAAQABAAEAAAAGAAAAAQABAAEAAAAHAAAAAQABAAEAAAAIAAAAAQABAAEAAAAJAAAAAQABAAEAAAAKAAAAAQABAAEAAAALAAAAAQABAAEAAAAMAAAAAQABAAEAAAANAAAAAQABAAEAAAAOAAAAAQABAAEAAAAPAAAAAQACAAEAAAAPAP//AQACAAAAAAAOAP//AQABAAAAAAANAP//AQABAAAAAAAMAP//AQABAAAAAAALAP//AQABAAAAAAAKAP//AQABAAAAAAAJAP//AQABAAAAAAAIAP//AQABAAAAAAAHAP//AQABAAAAAAAGAP//AQABAAAAAAAFAP//AQABAAAAAAAEAP//AQABAAAAAAADAP//AQABAAAAAAACAP//AQABAAAAAAABAP//AQABAAAAAAAAAP//AQABAAAAAAA=")
tile_set = ExtResource("1_nbj86")

[node name="TileMapLayer5" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAACAAUAAQAGAAAAAAABAAUAAQAGAAAAAAAAAAUAAQAGAAMAAAD//wUAAQAFAAMAAAACAAYAAQAGAAEAAAABAAYAAQAFAAEAAAANAAcAAQAHAAIAAAAMAAcAAQAGAAIAAAALAAcAAQAGAAMAAAAKAAcAAQAGAAMAAAAJAAcAAQAGAAMAAAAIAAcAAQAGAAMAAAAHAAcAAQAGAAMAAAAGAAcAAQAGAAMAAAAFAAcAAQAGAAIAAAAEAAcAAQAGAAIAAAADAAcAAQAGAAIAAAANAAYAAQAHAAEAAAANAAUAAQAGAAEAAAANAAQAAQAGAAAAAAAMAAYAAQAFAAEAAAAMAAUAAQAFAAEAAAAMAAQAAQAFAAAAAAAPAAUAAQAHAAIAAAAPAAQAAQAHAAAAAAAOAAUAAQAGAAIAAAAOAAQAAQAGAAAAAAACAAcAAQAGAAIAAAABAAcAAQAFAAIAAAAFAAYAAQAHAAEAAAAFAAUAAQAHAAAAAAAEAAUAAQAGAAAAAAADAAUAAQAGAAAAAAAEAAYAAQAGAAEAAAADAAYAAQAGAAEAAAA=")
tile_set = ExtResource("1_nbj86")

[node name="TileMapLayer6" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAIAAUABAAAAAMAAAAKAAUABAACAAMAAAAJAAUABAABAAMAAAAIAAQABAAAAAIAAAAKAAQABAACAAIAAAAJAAQABAABAAIAAAAIAAMABAAAAAAAAAAKAAMABAACAAAAAAAJAAMABAABAAAAAAABAAEABAAAAAAAAAABAAIABAAAAAIAAAABAAMABAAAAAMAAAACAAEABAACAAAAAAACAAIABAACAAIAAAACAAMABAACAAMAAAA=")
tile_set = ExtResource("1_nbj86")

[node name="World" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Character" type="CharacterBody2D" parent="World" node_paths=PackedStringArray("animated_sprite_2d")]
position = Vector2(287, 173)
collision_mask = 529
script = ExtResource("2_nbj86")
animated_sprite_2d = NodePath("AnimatedSprite2D")
metadata/_custom_type_script = "uid://mwgpxjf6tdx4"

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="World/Character"]
position = Vector2(0, -24)
sprite_frames = ExtResource("3_nbj86")
animation = &"alerted"

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Character"]
rotation = -1.57079
shape = SubResource("CapsuleShape2D_erwmy")

[node name="CanFollowTarget" type="Node2D" parent="World/Character" node_paths=PackedStringArray("node_to_follow")]
script = ExtResource("4_5w10e")
walk_speed = 100.0
update_target_time = 3.0
target_reached_tolerance = null
node_to_follow = NodePath("../../Character2")
metadata/_custom_type_script = "uid://cf66tvbhbaxd0"

[node name="Character2" type="CharacterBody2D" parent="World" node_paths=PackedStringArray("animated_sprite_2d")]
position = Vector2(365, 325)
collision_mask = 529
script = ExtResource("2_nbj86")
animated_sprite_2d = NodePath("AnimatedSprite2D")
metadata/_custom_type_script = "uid://mwgpxjf6tdx4"

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="World/Character2"]
position = Vector2(0, -37)
sprite_frames = ExtResource("3_erwmy")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Character2"]
rotation = -1.57079
shape = SubResource("CapsuleShape2D_7q101")

[node name="CanWalkAsPlayer" type="Node" parent="World/Character2"]
script = ExtResource("4_erwmy")
metadata/_custom_type_script = "uid://c5tdskdj4osp6"
